<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<title>Happy Chocolate Day ğŸ«â¤ï¸</title>

<style>
:root {
  --bg-dark: radial-gradient(circle at top, #3b1f14, #140a06);
  --bg-warm: radial-gradient(circle at center, #5a2a1a, #f2b6c6);
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: "Georgia", serif;
  background: #140a06;
  color: #ffe6ee;
  overflow: hidden;
  touch-action: manipulation;
}

.scene {
  position: absolute;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  padding: 24px;
  text-align: center;
}

.scene.active { display: flex; }

.text {
  font-size: 1.4rem;
  max-width: 90%;
  line-height: 1.6;
  opacity: 0;
  animation: fadeIn 0.8s ease forwards;
}

.big { font-size: 4.8rem; }

.fade { animation: fadeIn 0.8s ease forwards; }

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Cocoa dust */
.cocoa::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle, rgba(255,255,255,0.03) 1px, transparent 1px);
  background-size: 18px 18px;
  animation: drift 12s linear infinite;
  opacity: 0.3;
}
@keyframes drift {
  from { background-position: 0 0; }
  to { background-position: 200px 400px; }
}

/* Chocolate + Crown */
.choco-wrapper {
  position: relative;
  margin-bottom: 20px;
}

.choco {
  font-size: 5rem;
  animation: bounceIn 0.8s cubic-bezier(.34,1.56,.64,1);
}

@keyframes bounceIn {
  0% { transform: scale(0.2); }
  70% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

.crown {
  position: absolute;
  top: -32px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 2.4rem;
  animation: glow 1s ease-in-out;
}

@keyframes glow {
  0% { filter: drop-shadow(0 0 0px gold); }
  100% { filter: drop-shadow(0 0 12px gold); }
}

/* Expressions */
.eye-roll { animation: eyeRoll 0.6s ease; }
@keyframes eyeRoll {
  0% { transform: rotate(0); }
  50% { transform: rotate(-12deg); }
  100% { transform: rotate(0); }
}

.smirk { animation: smirk 0.6s ease; }
@keyframes smirk {
  0% { transform: scale(1); }
  50% { transform: scale(1.1) rotate(5deg); }
  100% { transform: scale(1); }
}

.shake { animation: shake 0.3s; }
@keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-4px); }
  50% { transform: translateX(4px); }
  100% { transform: translateX(0); }
}

/* Game */
.grid {
  display: grid;
  grid-template-columns: repeat(3, 80px);
  gap: 14px;
}

.hole {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: #2a140c;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2.5rem;
}

/* Rain + lightning */
.rain::before {
  content: "";
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.15),
    rgba(255,255,255,0.15) 2px,
    transparent 2px,
    transparent 8px
  );
  animation: rain 0.6s linear infinite;
  opacity: 0.25;
}
@keyframes rain {
  from { background-position: 0 0; }
  to { background-position: 0 40px; }
}

/* Confetti */
.confetti span {
  position: absolute;
  font-size: 1.6rem;
  animation: fall 3s linear forwards;
}
@keyframes fall {
  from { transform: translateY(-100px) rotate(0); }
  to { transform: translateY(120vh) rotate(360deg); }
}
</style>
</head>

<body>

<!-- SCENE 0 -->
<div class="scene active cocoa" id="scene0">
  <div id="entryText" class="text"></div>
</div>

<!-- SCENE 1 -->
<div class="scene" id="scene1" style="background:var(--bg-dark)">
  <div class="choco-wrapper">
    <div class="crown">ğŸ‘‘</div>
    <div id="choco1" class="choco">ğŸ«</div>
  </div>
  <div id="dialogue1" class="text"></div>
</div>

<!-- SCENE 2 -->
<div class="scene" id="scene2" style="background:#1a0d08">
  <div class="choco-wrapper">
    <div id="choco2" class="choco">ğŸ«</div>
  </div>
  <div id="dialogue2" class="text"></div>
</div>

<!-- SCENE 3 -->
<div class="scene" id="scene3">
  <div class="text">Teach him a lesson. Tap the chocolate. ğŸ‘ŠğŸ«</div>
  <div class="grid" id="grid"></div>
  <div id="hits" class="text">Hits: 0/5</div>
</div>

<!-- SCENE 4 -->
<div class="scene rain" id="scene4">
  <div class="text">Sometimesâ€¦<br>Even the proudest melt.</div>
</div>

<!-- SCENE 5 -->
<div class="scene" id="scene5">
  <div class="big">ğŸ˜</div>
  <div class="text">Swikar</div>
  <div class="text" id="dialogue5"></div>
</div>

<!-- SCENE 6 -->
<div class="scene" id="scene6">
  <div class="choco-wrapper">
    <div id="dropCrown" class="crown">ğŸ‘‘</div>
    <div class="choco">ğŸ«</div>
  </div>
  <div class="text">I step down.<br><br>The throne belongs toâ€¦<br><br><b>You.</b></div>
</div>

<!-- SCENE 7 -->
<div class="scene" id="scene7" style="background:var(--bg-warm)">
  <div class="big">â¤ï¸</div>
  <div class="text">Happy Chocolate Dayâ€¦<br>My Queen. ğŸ‘‘ğŸ«</div>
</div>

<!-- SCENE 8 -->
<div class="scene" id="scene8" style="background:#f7b3c9; color:#4a1d2a">
  <div class="text">
    Happy Chocolate Day ğŸ«â¤ï¸<br>
    To the most amazing,<br>
    sweetest,<br>
    adorable,<br>
    cutest,<br>
    my chocolate,<br>
    my everything.<br><br>
    Happy Chocolate Day, my love.
  </div>
</div>

<script>
let current = 0;
const scenes = document.querySelectorAll(".scene");

/* HAPTIC */
const buzz = (ms=15)=>navigator.vibrate&&navigator.vibrate(ms);

/* Scene switching */
function showScene(i){
  scenes.forEach(s=>s.classList.remove("active"));
  scenes[i].classList.add("active");
  current=i;
}

/* SCENE 0 */
const entryLines=["Tap to enterâ€¦","If you dare. ğŸ˜ğŸ«"];
let ei=0;
const entryEl=document.getElementById("entryText");
entryEl.textContent=entryLines[0];
setInterval(()=>{
  ei=(ei+1)%entryLines.length;
  entryEl.textContent=entryLines[ei];
},1500);

/* SCENE 1 dialogue */
const s1=[
"Ohhhâ€¦ so YOU must be her. ğŸ˜",
"Iâ€™ve heard a LOT about you.",
"What was that guyâ€™s name againâ€¦",
"â€¦Ahhh. Swikar. ğŸ˜",
"That guy is OBSESSED with you.",
"Gentle thisâ€¦ sweet thatâ€¦ amazing blah blah blah ğŸ™„",
"But let me make one thing VERY clear.",
"Iâ€™m sweeter than you.",
"Iâ€™m more loved than you.",
"Iâ€™m adored by the ENTIRE WORLD. ğŸŒğŸ«",
"People donâ€™t choose chocolate.",
"Chocolate chooses THEM."
];
let i1=0;

/* Tap handler */
document.body.onclick=()=>{
  buzz();
  if(current===0){ showScene(1); speak1(); }
  else if(current===1) speak1();
  else if(current===2) speak2();
};

/* Speak scene 1 */
function speak1(){
  if(i1>=s1.length){ showScene(2); return; }
  const d=document.getElementById("dialogue1");
  d.textContent=s1[i1];
  d.classList.add("shake");
  const ch=document.getElementById("choco1");
  if(i1===0) ch.classList.add("smirk");
  if(i1===5) ch.classList.add("eye-roll");
  i1++;
}

/* Scene 2 */
const s2=[
"And that Swikar guy?",
"Pfft. Emotional. Dramatic.",
"Acts tough but melts faster than me. ğŸ˜Œ",
"You deserve better.",
"Likeâ€¦ ME.",
"Anyway. Iâ€™m bored.",
"Try to keep up. ğŸ˜"
];
let i2=0;
function speak2(){
  if(i2>=s2.length){ startGame(); return; }
  document.getElementById("dialogue2").textContent=s2[i2++];
}

/* GAME */
let hits=0;
const grid=document.getElementById("grid");
for(let i=0;i<9;i++){
  const h=document.createElement("div");
  h.className="hole";
  grid.appendChild(h);
}
function startGame(){
  showScene(3);
  spawn();
}
function spawn(){
  if(hits>=5){ showScene(4); setTimeout(()=>showScene(5),2000); return;}
  grid.querySelectorAll(".hole").forEach(h=>h.textContent="");
  const hole=grid.children[Math.floor(Math.random()*9)];
  hole.textContent="ğŸ«";
  hole.onclick=()=>{
    hits++; buzz(30);
    document.getElementById("hits").textContent=`Hits: ${hits}/5`;
    spawn();
  };
  setTimeout(()=>spawn(),1000-(hits*120));
}

/* Scene 5 dialogue */
const s5=[
"I was wrong.",
"I thought I was the sweetest thing in this worldâ€¦",
"But then I saw her.",
"Her kindness.",
"Her warmth.",
"Her heart.",
"She doesnâ€™t need chocolate to be sweet. ğŸ¥¹"
];
let i5=0;
const d5=document.getElementById("dialogue5");
const interval=setInterval(()=>{
  if(i5>=s5.length){ clearInterval(interval); setTimeout(()=>showScene(6),2000); return;}
  d5.textContent=s5[i5++];
},2000);

/* Crown drop */
const crown=document.getElementById("dropCrown");
setTimeout(()=>{ crown.style.animation="fall 1.2s ease forwards"; },200);

/* Confetti */
function confetti(){
  const emojis=["â¤ï¸","ğŸŒ¹","âœ¨","ğŸ’–","ğŸ«"];
  const c=document.createElement("div");
  c.className="confetti";
  document.body.appendChild(c);
  for(let i=0;i<60;i++){
    const s=document.createElement("span");
    s.textContent=emojis[Math.floor(Math.random()*emojis.length)];
    s.style.left=Math.random()*100+"vw";
    s.style.animationDelay=Math.random()+"s";
    c.appendChild(s);
  }
  setTimeout(()=>c.remove(),3500);
}

setTimeout(()=>{ showScene(7); confetti(); },18000);
setTimeout(()=>{ showScene(8); },22000);
</script>
</body>
</html>
